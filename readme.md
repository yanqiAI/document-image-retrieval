***-----***
## 描述
本程序是针对扫描试卷检索的演示程序V1.0，正确运行本程序需要以下步骤：

## 环境
1.本程序推荐使用anaconda3-5.2.0-python3.6版本；

2.安装需要的依赖包，所有依赖包以在./requirements.txt文件中列出；
运行命令：pip install -r requriements.txt，即可安装所有的依赖；

3.通过python RetrievalMainWin.py,运行本程序；


查询的数据库图像特征文件（.npz）在./cnn_feature下，h5原始模型文件在./checkpoints文件夹下，转换后的pb模型文件在./model_pb文件夹下。
本程序调用转换后的pb模型文件进行测试。

## 操作说明：

1）点击面板中‘选择图像库’按钮，选择数据库图像文件夹路径，显示文件统计信息；
2）点击面板中‘选择待检索文件’按钮，选定要检索的图片，并进行显示；
3）点击面板中‘导入特征库文件’按钮，选择./cnn_feature下的.npz文件，显示‘特征文件导入成功’；
4）点击面板中‘加载模型’按钮，显示‘加载成功’；
5）点击面板中‘开始检索’，主面板区域显示检索结果top5，左下方文本区域显示检索反馈结果，即返回结果每张图片与查询图片间的相似性得分。


## 查询的数据库文件介绍：
待数据文件全部以图片形式存放，每张图片经过随机旋转（0~1.5°）、左右上下随机平移最多8个像素、随机添加噪声、模糊处理、添加背景、随机涂鸦等操作，模拟实际需要查询的样本。


v1.0版本整体检索精度0.85（top5），1w+样本中的检索速度大约在0.001s。

----10.28更新一版新的训练模型，比之前的模型更小，前向推理更快（每张试卷用时大约0.4s），1w测试样本中查全率更高。

